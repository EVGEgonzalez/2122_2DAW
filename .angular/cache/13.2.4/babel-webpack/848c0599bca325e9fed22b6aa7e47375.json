{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../config/config.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction FormularioLoginComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Inicio de sesi\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"label\", 10);\n    i0.ɵɵtext(5, \"Correo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 11);\n    i0.ɵɵelementStart(7, \"label\", 12);\n    i0.ɵɵtext(8, \"Contrase\\u00F1a\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 14);\n    i0.ɵɵtext(11, \"Iniciar Sesi\\u00F3n\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction FormularioLoginComponent_div_9_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \" El correo es incorrecto. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormularioLoginComponent_div_9_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe tener al menos 6 caracteres. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormularioLoginComponent_div_9_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \"Las contrase\\u00F1as no coinciden\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FormularioLoginComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Registrar Usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"label\", 15);\n    i0.ɵɵtext(5, \"Correo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 16);\n    i0.ɵɵtemplate(7, FormularioLoginComponent_div_9_div_7_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementStart(8, \"label\", 18);\n    i0.ɵɵtext(9, \"Contrase\\u00F1a\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 19);\n    i0.ɵɵlistener(\"change\", function FormularioLoginComponent_div_9_Template_input_change_10_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.onPasswordChange();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, FormularioLoginComponent_div_9_div_11_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementStart(12, \"label\", 20);\n    i0.ɵɵtext(13, \"Repite la contrase\\u00F1a\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 21);\n    i0.ɵɵlistener(\"change\", function FormularioLoginComponent_div_9_Template_input_change_14_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onPasswordChange();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, FormularioLoginComponent_div_9_div_15_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 22);\n    i0.ɵɵtext(17, \"Registrar Usuario\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.emailAlta.invalid && ctx_r1.emailAlta.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.passwordAlta.invalid && ctx_r1.passwordAlta.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.confirm_password.hasError(\"mismatch\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.altaForm.invalid);\n  }\n}\n\nexport let FormularioLoginComponent = /*#__PURE__*/(() => {\n  class FormularioLoginComponent {\n    constructor(router, configService) {\n      this.router = router;\n      this.configService = configService; //Formulario Alta\n\n      this.altaForm = new FormGroup({\n        emailAlta: new FormControl('', [Validators.required, Validators.email]),\n        passwordAlta: new FormControl('', [Validators.required, Validators.minLength(6)]),\n        confirm_password: new FormControl('', [Validators.required, Validators.minLength(6)])\n      }); //Formulario Login\n\n      this.loginForm = new FormGroup({\n        emailLogin: new FormControl('', [Validators.required, Validators.email]),\n        passwordLogin: new FormControl('', [Validators.required, Validators.minLength(6)])\n      });\n      this.url = router.url;\n    }\n\n    get emailAlta() {\n      return this.altaForm.get('emailAlta');\n    }\n\n    get passwordAlta() {\n      return this.altaForm.get('passwordAlta');\n    }\n\n    get confirm_password() {\n      return this.altaForm.get('confirm_password');\n    }\n\n    get emailLogin() {\n      return this.altaForm.get('emailLogin');\n    }\n\n    get passwordLogin() {\n      return this.altaForm.get('passwordLogin');\n    }\n\n    onPasswordChange() {\n      if (this.confirm_password.value == this.passwordAlta.value) {\n        this.confirm_password.setErrors(null);\n      } else {\n        this.confirm_password.setErrors({\n          mismatch: true\n        });\n      }\n    }\n\n    ngOnInit() {}\n\n    enviar() {\n      switch (this.url) {\n        case '/alta':\n          // this.configService.alta(this.altaForm.value).subscribe(\n          //   response => {\n          //     if (response['resultado'] == 'OK') {\n          //       alert('exito');\n          //     } else {\n          //       alert('fracaso');\n          //     }\n          //   }\n          // );\n          this.configService.alta(this.altaForm.value).subscribe(datos => {\n            if (datos['resultado'] == 'OK') {\n              alert(datos['mensaje']);\n            }\n          });\n          break;\n      }\n    }\n\n  }\n\n  FormularioLoginComponent.ɵfac = function FormularioLoginComponent_Factory(t) {\n    return new (t || FormularioLoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ConfigService));\n  };\n\n  FormularioLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormularioLoginComponent,\n    selectors: [[\"app-formulario-login\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[1, \"contenedor-grid\"], [1, \"grid-formulario\"], [1, \"contenedor-img\"], [1, \"contenedor-form\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"contenedor-logos\"], [\"src\", \"assets/logo-proyecto-horizontal.png\", \"alt\", \"Logotipo del proyecto\"], [\"src\", \"assets/fundacion-Loyola.png\", \"alt\", \"Logotipo de la Fundaci\\u00F3n Loyola\"], [4, \"ngIf\"], [1, \"inputs-form\"], [\"for\", \"emailLogin\"], [\"type\", \"mail\", \"name\", \"emailLogin\", \"id\", \"emailLogin\"], [\"for\", \"passwordLogin\"], [\"type\", \"password\", \"name\", \"passwordLogin\", \"id\", \"passwordLogin\"], [\"type\", \"submit\", \"name\", \"iSubmit\"], [\"for\", \"emailAlta\"], [\"type\", \"email\", \"formControlName\", \"emailAlta\", \"id\", \"emailAlta\", \"placeholder\", \"correo@ejemplo.com\"], [\"class\", \"error\", 4, \"ngIf\"], [\"for\", \"passwordAlta\"], [\"type\", \"password\", \"formControlName\", \"passwordAlta\", 3, \"change\"], [\"for\", \"confirm_password\"], [\"type\", \"password\", \"formControlName\", \"confirm_password\", 3, \"change\"], [\"type\", \"submit\", \"name\", \"iSubmit\", 3, \"disabled\"], [1, \"error\"]],\n    template: function FormularioLoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function FormularioLoginComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.enviar();\n        });\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelement(6, \"img\", 6)(7, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, FormularioLoginComponent_div_8_Template, 12, 0, \"div\", 8);\n        i0.ɵɵtemplate(9, FormularioLoginComponent_div_9_Template, 18, 4, \"div\", 8);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(10, \"router-outlet\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.altaForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.router.url === \"/login\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.router.url === \"/alta\");\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i4.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i1.RouterOutlet],\n    styles: [\".contenedor-grid[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;font-family:Open Sans,sans-serif;background-color:#f5f5f5}.grid-formulario[_ngcontent-%COMP%]{width:60%;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));min-height:380px;box-shadow:2px 2px 6px #00000080;-webkit-box-shadow:2px 2px 6px 0px rgba(0,0,0,.5);-moz-box-shadow:2px 2px 6px 0px rgba(0,0,0,.5);background-color:#fff}.contenedor-img[_ngcontent-%COMP%]{background:url(couple-trekking-through-the-rain-in-the-highlands.4f6a7a32e8c9d6c8.jpg);background-size:cover}.grid-formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-evenly;padding:1rem}.contenedor-form[_ngcontent-%COMP%]   .contenedor-logos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));align-items:center;justify-content:center;margin-bottom:.5rem}.contenedor-form[_ngcontent-%COMP%]   .contenedor-logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:auto}h2[_ngcontent-%COMP%]{color:#fdbd0d;font-weight:600}label[_ngcontent-%COMP%]{color:#39d070;font-weight:600}button[_ngcontent-%COMP%]{width:max-content;padding:.9rem;background-color:#39d070;border:none;border-radius:10px;color:#fff;font-weight:800;cursor:pointer;transition:.3s}button[_ngcontent-%COMP%]:hover{background-color:#30b460}input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #aaa;outline:none;padding:8px;transition:.3s}input[_ngcontent-%COMP%]:focus{border-color:#747474;box-shadow:#00000017 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}.inputs-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:90%;grid-row-gap:1rem;row-gap:1rem;margin:1rem 0}.error[_ngcontent-%COMP%]{position:relative;background-color:#ffcece;color:#8b0000;font-weight:600;padding:.3rem .3rem .3rem 1rem}.error[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;width:6px;height:100%;z-index:5;top:0;left:0;background-color:red}@media (max-width: 960px){.grid-formulario[_ngcontent-%COMP%]{width:80%}}@media (max-width: 540px){.contenedor-img[_ngcontent-%COMP%]{display:none}.grid-formulario[_ngcontent-%COMP%]{width:90%;grid-area:1fr}.grid-formulario[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1fr)}}\"]\n  });\n  return FormularioLoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}