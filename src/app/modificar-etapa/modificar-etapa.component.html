<p>modificar-etapa works!</p>

<form id="altaEtapa" [formGroup]="formulario" (ngSubmit)="anyadir()">
  <h1>MODIFICAR ETAPA</h1>
  <input id="idEtapa" type="text" value="{{respuesta.idEtapa}}" placeholder="Identificador de la Etapa" formControlName="idEtapa"><br />
  <div class="errorDatos" *ngIf="idEtapa!.invalid && idEtapa!.touched ">
    Error, el identificador debe ser de 1 o 2 cifras
  </div>
  <input id="dur" type="text" value="{{respuesta.duracion}}" placeholder="Duracion (HH:MM)" formControlName="duracion"><br />
  <div class="errorDatos" *ngIf="duracion.invalid && (duracion.dirty )">
    Error, la duracion debe ser en el formato HH:MM
  </div>
  <input id="long" type="text" value="{{respuesta.kilometros}}" placeholder="Longitud de la Etapa (km's)" formControlName="longitud" ><br />
  <div class="errorDatos" *ngIf=" longitud!.touched && longitud.invalid && longitud.errors.pattern">
    Error, en la validacion del campo longitud
  </div>
  <div id="insertarArchivo">
    Imagen de la Etapa
    <input #imageInput for="img" id="img" type="file"  formControlName="img" accept="imagen/*" (change)="procesarImagen(imageInput)">
    <label for="img">Archivo</label>
  </div>
  <div>
    Poblacion de inicio <br />
    <select  formControlName="selectInicio">
      <option *ngFor="let res of respuesta" value="{{res.idPoblacion}}">{{res.nombrePoblacion}}</option>

    </select><br/>
  </div>
  <div class="errorDatos" *ngIf="selectInicio!.invalid && selectInicio!.touched">
    Error en la Poblacion de inicio
  </div>
  <div>
    Poblacion de final <br />
    <select  formControlName="selectFinal">
      <option *ngFor="let res of respuesta" value="{{res.idPoblacion}}">{{res.nombrePoblacion}}</option>

    </select>
    <div class="errorDatos" *ngIf="selectFinal!.invalid && selectInicio!.touched">
      Error en la Poblacion de inicio
    </div>
  </div>
  <br />
  <div class="errorDatos" *ngIf="idEtapa.invalid && (idEtapa.dirty )">

  </div>
  <input id="btnAnadir" type="submit" value="AÃ‘ADIR" [disabled]="idEtapa.invalid || duracion.invalid || longitud.invalid ">

</form>
